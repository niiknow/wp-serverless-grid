"use strict";(self.webpackChunkwp_serverless_grid=self.webpackChunkwp_serverless_grid||[]).push([[568],{1403:function(e,t,r){Object.defineProperty(t,"X",{value:!0});var n=r(311);t.Z=(0,n.defineComponent)({name:"AppOne"})},9860:function(e,t,r){t.s=void 0;var n=r(311),o={class:"main-wrapper"};t.s=function(e,t,r,a,l,s){var i=(0,n.resolveComponent)("router-view");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[((0,n.openBlock)(),(0,n.createBlock)(i,{key:e.$route.path}))])}},1372:function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}};var o=r(311),a=n(r(8154)),l=n(r(4554));r(4498);var s=n(r(4589)),i=n(r(2346)),c=(0,n(r(5859)).default)(window),u=(0,o.createApp)(a.default);u.config.globalProperties.$win=c,(0,s.default)(u),u.use(l.default).use(i.default,c.$appConfig.axios),u.mount("#serverless-grid-vue-app")},4554:function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(2119),a=[{path:"/",component:n(r(3693)).default}],l=(0,o.createRouter)({history:(0,o.createWebHashHistory)(),routes:a});t.default=l},1043:function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9669)).default.create({baseURL:"/",withCredentials:!1,headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"}});o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",o.interceptors.response.use((function(e){return e.headers["X-WP-Nonce"]&&(window.$appConfig.nonce=e.headers["X-WP-Nonce"]),e})),o.interceptors.request.use((function(e){return e.headers["X-WP-Nonce"]=window.$appConfig.nonce,e})),t.default=o},5859:function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(1043)),a=n(r(3279));t.default=function(e){return e.$appConfig={},e.$appConfig.axios=o.default,e.$appConfig.debounce=a.default,e}},4498:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r(5859),r(1043)},3153:function(e,t,r){var n=r(5318);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var o=n(r(7757)),a=n(r(8926));r(1539),r(4747),r(9600),r(6699),r(2023),r(4916),r(4765),r(8674),r(7941),r(2707),r(2222);var l=r(311),s=n(r(3633)),i=(0,l.defineComponent)({components:{Multiselect:s.default},setup:function(e,t){var r=(0,l.reactive)({categories:[],cuisines:[],cookm:0,prepm:0,totalm:0}),n=(0,l.ref)([]);return{dsSearch:(0,l.ref)(""),recipes:n,filters:r,categories:(0,l.ref)({}),cuisines:(0,l.ref)({}),recipeTimes:[{text:"Please select one",value:0},{text:"< 15 minutes",value:14},{text:"< 30 minutes",value:29},{text:"< 60 minutes",value:59},{text:">= 60 minutes",value:60}]}},methods:{getCourses:function(e){var t=this;if(e.length<=0)return"";var r=[];return e.forEach((function(e){r.push(t.categories[e])})),"Course "+r.join(", ")},filterByUrl:function(){this.$route.query.category&&this.filters.categories.push(this.$route.query.category),this.$route.query.s&&(this.dsSearch=this.$route.query.s)},filterCategories:function(e){return this.filters.categories.length<=0||this.filters.categories.some((function(t){return e.includes(t)}))},filterCuisines:function(e){return this.filters.cuisines.length<=0||this.filters.cuisines.some((function(t){return e.includes(t)}))},filterPrepTime:function(e){return this.filterTime(e,this.filters.prepm)},filterCookTime:function(e){return this.filterTime(e,this.filters.cookm)},filterTotalTime:function(e){return this.filterTime(e,this.filters.totalm)},filterTime:function(e,t){if(t<=0)return!0;var r=parseInt(e);return t<60?r<=t:r>=60},clearFilters:function(){this.filters.categories.length=0,this.filters.cuisines.length=0,this.filters.cookm=0,this.filters.prepm=0,this.filters.totalm=0},doLoad:function(){var e=this;this.handleSearch=this.$win.$appConfig.debounce((function(t){e.$refs.myds.search(t)}),300),(0,l.watchEffect)((function(){e.handleSearch(e.dsSearch)}));var t=this.$win.vue_wp_plugin_config_frontend.taxonomies,r=t.wprm_course,n=t.wprm_cuisine;r.forEach((function(t){e.categories[t.value]=t.text})),n.forEach((function(t){e.cuisines[t.value]=t.text})),fetch(this.$win.vue_wp_plugin_config_frontend.indexFileUrl).then((function(e){return e.json()})).then((function(t){var r=[],n=[];Object.keys(t).forEach((function(e){var o=t[e];o.img?r.push(o):n.push(o)}));r.sort((function(e,t){var r=e.title,n=t.title;return(r>n)-(n>r)})),n.sort((function(e,t){var r=e.title,n=t.title;return(r>n)-(n>r)})),e.recipes=r.concat(n),e.filterByUrl()}))}},beforeMount:function(){var e=this;e.$win&&e.$win.vue_wp_plugin_config_admin?e.doLoad():document.onreadystatechange=(0,a.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"complete"==document.readyState&&e.doLoad();case 1:case"end":return t.stop()}}),t)})))}});t.Z=i},2482:function(e,t,r){t.s=function(e,t,r,Z,R,W){var H=(0,n.resolveComponent)("Multiselect"),A=(0,n.resolveComponent)("dataset-info"),z=(0,n.resolveComponent)("dataset-item"),G=(0,n.resolveComponent)("dataset-pager"),J=(0,n.resolveComponent)("dataset");return(0,n.openBlock)(),(0,n.createElementBlock)("div",o,[(0,n.createElementVNode)("div",a,[l,(0,n.createElementVNode)("div",s,[(0,n.createElementVNode)("div",i,[c,(0,n.createVNode)(H,{modelValue:e.filters.categories,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filters.categories=t}),mode:"tags",searchable:!0,"close-on-select":!1,"create-option":!0,options:e.categories},null,8,["modelValue","options"])]),(0,n.createElementVNode)("div",u,[d,(0,n.createVNode)(H,{modelValue:e.filters.cuisines,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filters.cuisines=t}),mode:"tags",searchable:!0,"close-on-select":!1,"create-option":!0,options:e.cuisines},null,8,["modelValue","options"])]),(0,n.createElementVNode)("div",f,[m,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filters.prepm=t})},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.recipeTimes,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{value:e.value},(0,n.toDisplayString)(e.text),9,p)})),256))],512),[[n.vModelSelect,e.filters.prepm]])]),(0,n.createElementVNode)("div",h,[v,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.filters.cookm=t})},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.recipeTimes,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{value:e.value},(0,n.toDisplayString)(e.text),9,g)})),256))],512),[[n.vModelSelect,e.filters.cookm]])]),(0,n.createElementVNode)("div",w,[V,(0,n.withDirectives)((0,n.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.filters.totalm=t})},[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(e.recipeTimes,(function(e){return(0,n.openBlock)(),(0,n.createElementBlock)("option",{value:e.value},(0,n.toDisplayString)(e.text),9,E)})),256))],512),[[n.vModelSelect,e.filters.totalm]])]),(0,n.createElementVNode)("div",N,[_,(0,n.createElementVNode)("button",{type:"button",class:"btn btn-outline-primary",onClick:t[5]||(t[5]=function(){return e.clearFilters&&e.clearFilters.apply(e,arguments)})},"Clear all filters")])])]),(0,n.createVNode)(J,{"ds-data":e.recipes,"ds-filter-fields":{wprm_course:e.filterCategories,wprm_cuisine:e.filterCuisines,wprm_cook_time:e.filterCookTime,wprm_prep_time:e.filterPrepTime,wprm_total_time:e.filterTotalTime},"ds-search-in":["title","cnt"],ref:"myds"},{default:(0,n.withCtx)((function(r){var o=r.ds;return[(0,n.createElementVNode)("div",{class:"row","data-page-count":o.dsPagecount},[(0,n.createElementVNode)("div",b,[x,k,(0,n.createVNode)(A,{class:"mb-2 mb-md-0"})]),(0,n.createElementVNode)("div",C,[(0,n.createElementVNode)("div",T,[(0,n.withDirectives)((0,n.createElementVNode)("input",{name:"searchInput",id:"searchInput",type:"text",placeholder:"Type to search...",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.dsSearch=t})},null,512),[[n.vModelText,e.dsSearch]]),D])])],8,y),B,(0,n.createVNode)(z,{class:"row search-font",style:{"overflow-y":"auto","max-height":"600px"}},{default:(0,n.withCtx)((function(t){var r=t.row;t.rowIndex;return[(0,n.createElementVNode)("a",{class:"recipe-item scale-down col-sm-12 col-md-6 col-lg-4",href:r.src,title:r.title},[(0,n.createElementVNode)("div",S,[(0,n.createElementVNode)("div",$,[(0,n.createElementVNode)("img",{src:r.img?"https://www.ucook.com/"+r.img:"https://www.ucook.com/wp-content/uploads/2021/05/UCook-official-logo.png",class:"card-img-top",alt:r.title},null,8,P)]),(0,n.createElementVNode)("div",j,[(0,n.createElementVNode)("div",O,[(0,n.createElementVNode)("h5",U,(0,n.toDisplayString)(r.title),1)]),(0,n.createElementVNode)("div",X,[(0,n.createElementVNode)("p",q,(0,n.toDisplayString)(e.getCourses(r.wprm_course)),1)])])])],8,M)]})),noDataFound:(0,n.withCtx)((function(){return[F]})),_:1}),I,(0,n.createElementVNode)("div",L,[(0,n.createVNode)(A,{class:"mb-2 mb-md-0"}),(0,n.createVNode)(G)])]})),_:1},8,["ds-data","ds-filter-fields"])])};var n=r(311),o={class:"app-home"},a={class:"row filter-font"},l=(0,n.createElementVNode)("h3",null,"Filters",-1),s={class:"row"},i={class:"col-md-6 mb-3"},c=(0,n.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Category",-1),u={class:"col-md-6 mb-3"},d=(0,n.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Cuisines",-1),f={class:"col-md-3 mb-3"},m=(0,n.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Preparation Time (minutes)",-1),p=["value"],h={class:"col-md-3 mb-3"},v=(0,n.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Cook Time (minutes)",-1),g=["value"],w={class:"col-md-3 mb-3"},V=(0,n.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Total Time (minutes)",-1),E=["value"],N={class:"col-md-3 mb-3"},_=(0,n.createElementVNode)("br",null,null,-1),y=["data-page-count"],b={class:"col-md-6 search-font"},x=(0,n.createElementVNode)("br",null,null,-1),k=(0,n.createElementVNode)("br",null,null,-1),C={class:"col-md-6"},T={class:"form-floating"},D=(0,n.createElementVNode)("label",{for:"searchInput"},"Type to search...",-1),B=(0,n.createElementVNode)("hr",null,null,-1),M=["href","title"],S={class:"card",style:{}},$={style:{"margin-bottom":"20px"}},P=["src","alt"],j={class:"card-body"},O={class:"cut-off-2",style:{"margin-bottom":"20px"}},U={class:"card-title"},X={class:"cut-off-2",style:{"margin-bottom":"20px"}},q={class:"card-text text-truncate"},F=(0,n.createElementVNode)("div",{class:"col-md-12 search-font"},[(0,n.createElementVNode)("p",{class:"text-center"},"No results found")],-1),I=(0,n.createElementVNode)("hr",null,null,-1),L={class:"d-flex flex-md-row flex-column justify-content-between align-items-center search-font",style:{"text-decoration":"none !important"}}},4589:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.component("Dataset",n.Dataset),e.component("DatasetItem",n.DatasetItem),e.component("DatasetInfo",n.DatasetInfo),e.component("DatasetPager",n.DatasetPager),e.component("DatasetSearch",n.DatasetSearch),e.component("DatasetShow",n.DatasetShow)};var n=r(3570)},8154:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return o.X},default:function(){return a}});var n=r(9860),o=r(1403);var a=(0,r(3744).Z)(o.Z,[["render",n.s]])},3693:function(e,t,r){r.r(t),r.d(t,{__esModule:function(){return o.X},default:function(){return a}});var n=r(2482),o=r(3153);var a=(0,r(3744).Z)(o.Z,[["render",n.s]])},311:function(e){e.exports=Vue}},function(e){e.O(0,[703,898],(function(){return t=1372,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=frontend.js.map