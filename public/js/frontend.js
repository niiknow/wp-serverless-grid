"use strict";(self.webpackChunkvue_wp_plugin_starter=self.webpackChunkvue_wp_plugin_starter||[]).push([[568],{1403:function(e,t,n){Object.defineProperty(t,"X",{value:!0});var o=n(311);t.Z=(0,o.defineComponent)({name:"AppOne"})},9860:function(e,t,n){t.s=void 0;var o=n(311),r={class:"main-wrapper"};t.s=function(e,t,n,s,i,l){var a=(0,o.resolveComponent)("router-view");return(0,o.openBlock)(),(0,o.createElementBlock)("div",r,[((0,o.openBlock)(),(0,o.createBlock)(a,{key:e.$route.path}))])}},1372:function(e,t,n){var o=function(e){return e&&e.__esModule?e:{default:e}};var r=n(311),s=o(n(8154)),i=o(n(4554));n(4498);var l=o(n(4589)),a=o(n(2346)),c=(0,o(n(5859)).default)(window),u=(0,r.createApp)(s.default);u.config.globalProperties.$win=c,(0,l.default)(u),u.use(i.default).use(a.default,c.$appConfig.axios),u.mount("#vue-frontend-app")},4554:function(e,t,n){var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2119),s=[{path:"/",component:o(n(5283)).default}],i=(0,r.createRouter)({history:(0,r.createWebHashHistory)(),routes:s});t.default=i},1043:function(e,t,n){var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(9669)).default.create({baseURL:"/",withCredentials:!1,headers:{Accept:"application/json; charset=utf-8","Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"}});r.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",r.interceptors.response.use((function(e){return e.headers["X-WP-Nonce"]&&(window.$appConfig.nonce=e.headers["X-WP-Nonce"]),e})),r.interceptors.request.use((function(e){return e.headers["X-WP-Nonce"]=window.$appConfig.nonce,e})),t.default=r},5859:function(e,t,n){var o=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1043));t.default=function(e){return e.$appConfig={},e.$appConfig.axios=r.default,e}},4498:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n(5859),n(1043)},3153:function(e,t,n){var o=n(5318);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,n(1539),n(6699),n(2023),n(8674),n(4747),n(7941);var r=n(311),s=o(n(3633)),i=(0,r.defineComponent)({components:{Multiselect:s.default},name:"Home",data:function(){return{recipes:[],filters:{categories:[],cuisines:[],cookm:0,prepm:0,totalm:0},categories:{},cuisines:{},recipeTimes:[{text:"Please select one",value:0},{text:"< 15 minutes",value:14},{text:"< 30 minutes",value:29},{text:"< 60 minutes",value:59},{text:">= 60 minutes",value:60}]}},methods:{filterByUrl:function(){},filterCategories:function(e){return this.filters.categories.length<=0||this.filters.categories.some((function(t){return e.includes(t)}))},filterCuisines:function(e){return this.filters.cuisines.length<=0||this.filters.cuisines.some((function(t){return e.includes(t)}))},filterPrepTime:function(e){return this.filterTime(e,this.filters.prepm)},filterCookTime:function(e){return this.filterTime(e,this.filters.cookm)},filterTotalTime:function(e){return this.filterTime(e,this.filters.totalm)},filterTime:function(e,t){if(t<=0)return!0;var n=parseInt(e);return t<60?n<=t:n>=60}},beforeMount:function(){var e=this;document.onreadystatechange=function(){"complete"==document.readyState&&fetch(e.$win.vue_wp_plugin_config.indexFileUrl).then((function(e){return e.json()})).then((function(t){var n=[];Object.keys(t).forEach((function(e){"tax"!==e&&n.push(t[e])}));var o=e.$win.vue_wp_plugin_config.taxonomies,r=o.wprm_course,s=o.wprm_cuisine;r.forEach((function(t){e.categories[t.value]=t.text})),s.forEach((function(t){e.cuisines[t.value]=t.text})),e.recipes=n,e.filterByUrl()}))}}});t.Z=i},4229:function(e,t,n){t.s=function(e,t,n,r,F,O){var X=(0,o.resolveComponent)("Multiselect"),$=(0,o.resolveComponent)("dataset-search"),Z=(0,o.resolveComponent)("dataset-item"),q=(0,o.resolveComponent)("dataset-info"),H=(0,o.resolveComponent)("dataset-pager"),R=(0,o.resolveComponent)("dataset");return(0,o.openBlock)(),(0,o.createElementBlock)("div",s,[(0,o.createElementVNode)("div",i,[l,(0,o.createElementVNode)("div",a,[(0,o.createElementVNode)("div",c,[u,(0,o.createVNode)(X,{modelValue:e.filters.categories,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filters.categories=t}),mode:"tags",searchable:!0,"close-on-select":!1,"create-option":!0,options:e.categories},null,8,["modelValue","options"])]),(0,o.createElementVNode)("div",d,[m,(0,o.createVNode)(X,{modelValue:e.filters.cuisines,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filters.cuisines=t}),mode:"tags",searchable:!0,"close-on-select":!1,"create-option":!0,options:e.cuisines},null,8,["modelValue","options"])]),(0,o.createElementVNode)("div",p,[f,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filters.prepm=t})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.recipeTimes,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{value:e.value},(0,o.toDisplayString)(e.text),9,v)})),256))],512),[[o.vModelSelect,e.filters.prepm]])]),(0,o.createElementVNode)("div",h,[w,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.filters.cookm=t})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.recipeTimes,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{value:e.value},(0,o.toDisplayString)(e.text),9,g)})),256))],512),[[o.vModelSelect,e.filters.cookm]])]),(0,o.createElementVNode)("div",b,[x,(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.filters.totalm=t})},[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.recipeTimes,(function(e){return(0,o.openBlock)(),(0,o.createElementBlock)("option",{value:e.value},(0,o.toDisplayString)(e.text),9,C)})),256))],512),[[o.vModelSelect,e.filters.totalm]])]),y])]),(0,o.createVNode)(R,{"ds-data":e.recipes,"ds-filter-fields":{wprm_course:e.filterCategories,wprm_cuisine:e.filterCuisines,wprm_cook_time:e.filterCookTime,wprm_prep_time:e.filterPrepTime,wprm_total_time:e.filterTotalTime},"ds-search-in":["title","cnt"]},{default:(0,o.withCtx)((function(e){var t=e.ds;return[(0,o.createElementVNode)("div",{class:"row","data-page-count":t.dsPagecount},[V,(0,o.createElementVNode)("div",E,[(0,o.createElementVNode)("div",k,[(0,o.createVNode)($,{"ds-search-placeholder":"Type to search..."}),N])])],8,_),T,(0,o.createVNode)(Z,{class:"row",style:{"overflow-y":"auto","max-height":"600px"}},{default:(0,o.withCtx)((function(e){var t=e.row;e.rowIndex;return[(0,o.createElementVNode)("a",{class:"recipe-item scale-down col-sm-12 col-md-6 col-lg-4",href:t.src},[(0,o.createElementVNode)("div",B,[(0,o.createElementVNode)("img",{src:t.img?"https://www.ucook.com/"+t.img:"https://www.ucook.com/wp-content/uploads/2021/05/UCook-official-logo.png",class:"card-img-top",alt:t.title,style:{height:"250px","overflow-y":"hidden"}},null,8,M),(0,o.createElementVNode)("div",D,[(0,o.createElementVNode)("h5",P,(0,o.toDisplayString)(t.title),1),(0,o.createElementVNode)("p",S,(0,o.toDisplayString)(t.cnt),1)])])],8,A)]})),noDataFound:(0,o.withCtx)((function(){return[j]})),_:1}),U,(0,o.createElementVNode)("div",I,[(0,o.createVNode)(q,{class:"mb-2 mb-md-0"}),(0,o.createVNode)(H)])]})),_:1},8,["ds-data","ds-filter-fields"])])};var o=n(311),r=function(e){return(0,o.pushScopeId)("data-v-55e4d7fc"),e=e(),(0,o.popScopeId)(),e},s={class:"app-home"},i={class:"row"},l=r((function(){return(0,o.createElementVNode)("h3",null,"Filters",-1)})),a={class:"row"},c={class:"col-md-6 mb-3"},u=r((function(){return(0,o.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Category",-1)})),d={class:"col-md-6 mb-3"},m=r((function(){return(0,o.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Cuisines",-1)})),p={class:"col-md-3 mb-3"},f=r((function(){return(0,o.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Preparation Time (minutes)",-1)})),v=["value"],h={class:"col-md-3 mb-3"},w=r((function(){return(0,o.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Cook Time (minutes)",-1)})),g=["value"],b={class:"col-md-3 mb-3"},x=r((function(){return(0,o.createElementVNode)("label",{style:{"text-transform":"uppercase"}},"Total Time (minutes)",-1)})),C=["value"],y=r((function(){return(0,o.createElementVNode)("div",{class:"col-md-3 mb-3"},[(0,o.createElementVNode)("br"),(0,o.createElementVNode)("button",{type:"button",class:"btn btn-outline-primary"},"Clear all filters")],-1)})),_=["data-page-count"],V=r((function(){return(0,o.createElementVNode)("div",{class:"col-md-6"},null,-1)})),E={class:"col-md-6"},k={class:"form-floating"},N=r((function(){return(0,o.createElementVNode)("label",{for:"floatingInput"},"Type to search...",-1)})),T=r((function(){return(0,o.createElementVNode)("hr",null,null,-1)})),A=["href"],B={class:"card",style:{}},M=["src","alt"],D={class:"card-body"},P={class:"card-title"},S={class:"card-text text-truncate"},j=r((function(){return(0,o.createElementVNode)("div",{class:"col-md-12"},[(0,o.createElementVNode)("p",{class:"text-center"},"No results found")],-1)})),U=r((function(){return(0,o.createElementVNode)("hr",null,null,-1)})),I={class:"d-flex flex-md-row flex-column justify-content-between align-items-center"}},4589:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.component("Dataset",o.Dataset),e.component("DatasetItem",o.DatasetItem),e.component("DatasetInfo",o.DatasetInfo),e.component("DatasetPager",o.DatasetPager),e.component("DatasetSearch",o.DatasetSearch),e.component("DatasetShow",o.DatasetShow)};var o=n(3570)},3175:function(e,t,n){var o=n(7897),r=n.n(o),s=n(1519),i=n.n(s)()(r());i.push([e.id,"a.recipe-item[data-v-55e4d7fc]{transition:.2s ease-in;-webkit-transition:.2s ease-in}.card[data-v-55e4d7fc]{-webkit-box-shadow:0 0 10px 0 rgba(0,0,0,.5);box-shadow:0 0 10px 0 rgba(0,0,0,.5);height:350px;margin-top:10px;overflow:hidden}.scale-down[data-v-55e4d7fc]:hover{transform:scale(.95);-webkit-transform:scale(.95)}","",{version:3,sources:["webpack://./src/frontend/views/Home.vue"],names:[],mappings:"AAwMA,+BACE,sBAAuB,CACvB,8BACF,CAEA,uBACE,4CAAqC,CAArC,oCAAqC,CACrC,YAAa,CAEb,eAAe,CADf,eAEF,CAEA,mCACE,oBAAqB,CACrB,4BACF",sourcesContent:['<template>\n  <div class="app-home">\n    <div class="row">\n      <h3>Filters</h3>\n      <div class="row">\n        <div class="col-md-6 mb-3">\n          <label style="text-transform: uppercase;">Category</label>\n          <Multiselect\n            v-model="filters.categories"\n            mode="tags"\n            :searchable="true"\n            :close-on-select="false"\n            :create-option="true"\n            :options="categories"\n          />\n        </div>\n        <div class="col-md-6 mb-3">\n          <label style="text-transform: uppercase;">Cuisines</label>\n          <Multiselect\n            v-model="filters.cuisines"\n            mode="tags"\n            :searchable="true"\n            :close-on-select="false"\n            :create-option="true"\n            :options="cuisines"\n          />\n        </div>\n        <div class="col-md-3 mb-3">\n          <label style="text-transform: uppercase;">Preparation Time (minutes)</label>\n          <select class="form-select" v-model="filters.prepm">\n            <option v-for="option in recipeTimes" :value="option.value">\n              {{ option.text }}\n            </option>\n          </select>\n        </div>\n        <div class="col-md-3 mb-3">\n          <label style="text-transform: uppercase;">Cook Time (minutes)</label>\n          <select class="form-select" v-model="filters.cookm">\n            <option v-for="option in recipeTimes" :value="option.value">\n              {{ option.text }}\n            </option>\n          </select>\n        </div>\n        <div class="col-md-3 mb-3">\n          <label style="text-transform: uppercase;">Total Time (minutes)</label>\n          <select class="form-select" v-model="filters.totalm">\n            <option v-for="option in recipeTimes" :value="option.value">\n              {{ option.text }}\n            </option>\n          </select>\n        </div>\n        <div class="col-md-3 mb-3">\n          <br /><button type="button" class="btn btn-outline-primary">Clear all filters</button>\n        </div>\n      </div>\n    </div>\n    <dataset\n      v-slot="{ ds }"\n      :ds-data="recipes"\n      :ds-filter-fields="{ wprm_course: filterCategories, wprm_cuisine: filterCuisines, wprm_cook_time: filterCookTime, wprm_prep_time: filterPrepTime, wprm_total_time: filterTotalTime }"\n      :ds-search-in="[\'title\', \'cnt\']"\n    >\n      <div class="row" :data-page-count="ds.dsPagecount">\n        <div class="col-md-6">\n        </div>\n        <div class="col-md-6">\n          <div class="form-floating">\n            <dataset-search ds-search-placeholder="Type to search..." />\n            <label for="floatingInput">Type to search...</label>\n          </div>\n        </div>\n      </div>\n      <hr />\n      <dataset-item class="row" style="overflow-y: auto; max-height: 600px">\n        <template #default="{ row, rowIndex }">\n          <a class="recipe-item scale-down col-sm-12 col-md-6 col-lg-4" :href="row.src">\n            <div class="card" style="">\n              <img :src="row.img ? \'https://www.ucook.com/\' + row.img : \'https://www.ucook.com/wp-content/uploads/2021/05/UCook-official-logo.png\'" class="card-img-top" :alt="row.title" style="height: 250px; overflow-y: hidden">\n              <div class="card-body">\n                <h5 class="card-title">{{ row.title }}</h5>\n                <p class="card-text text-truncate">{{ row.cnt }}</p>\n              </div>\n            </div>\n          </a>\n        </template>\n        <template #noDataFound>\n          <div class="col-md-12">\n            <p class="text-center">No results found</p>\n          </div>\n        </template>\n      </dataset-item>\n      <hr />\n      <div class="d-flex flex-md-row flex-column justify-content-between align-items-center">\n        <dataset-info class="mb-2 mb-md-0" />\n        <dataset-pager />\n      </div>\n    </dataset>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from \'vue\'\nimport Multiselect from \'@vueform/multiselect\'\n\nexport default defineComponent({\n  components: {\n    Multiselect\n  },\n  name: \'Home\',\n  data () {\n    // get menus from appSettings\n    return {\n      recipes: [],\n      filters: { categories: [], cuisines: [], cookm: 0, prepm: 0, totalm: 0 },\n      categories: {},\n      cuisines: {},\n      recipeTimes: [\n        { text: \'Please select one\', value: 0 },\n        { text: \'< 15 minutes\', value: 14 },\n        { text: \'< 30 minutes\', value: 29 },\n        { text: \'< 60 minutes\', value: 59 },\n        { text: \'>= 60 minutes\', value: 60 }\n      ]\n    }\n  },\n  methods: {\n    filterByUrl() {\n\n    },\n    filterCategories(value) {\n      if (this.filters.categories.length <= 0) {\n        return true\n      }\n\n      return this.filters.categories.some(r => value.includes(r))\n    },\n    filterCuisines(value) {\n      if (this.filters.cuisines.length <= 0) {\n        return true\n      }\n\n      return this.filters.cuisines.some(r => value.includes(r))\n    },\n    filterPrepTime(value) {\n      return this.filterTime(value, this.filters.prepm)\n    },\n    filterCookTime(value) {\n      return this.filterTime(value, this.filters.cookm)\n    },\n    filterTotalTime(value) {\n      return this.filterTime(value, this.filters.totalm)\n    },\n    filterTime(value, selectedValue) {\n      if (selectedValue <= 0) {\n        return true\n      }\n\n      const intVal = parseInt(value)\n      if (selectedValue < 60) {\n        return intVal <= selectedValue\n      } else {\n        return intVal >= 60\n      }\n    }\n  },\n  beforeMount() {\n    document.onreadystatechange = () => {\n      if (document.readyState == "complete") {\n        fetch(this.$win.vue_wp_plugin_config.indexFileUrl)\n          .then(response => response.json())\n          .then(recipes => {\n            const items = []\n            Object.keys(recipes).forEach((key) => {\n              if (key !== \'tax\')  {\n                items.push(recipes[key])\n              }\n            })\n\n            const tax = this.$win.vue_wp_plugin_config.taxonomies\n            const courses = tax[\'wprm_course\']\n            const cuisines = tax[\'wprm_cuisine\']\n            courses.forEach((item) => {\n              this.categories[item.value] = item.text\n            })\n            cuisines.forEach((item) => {\n              this.cuisines[item.value] = item.text\n            })\n            this.recipes = items\n\n            // auto filter by url\n            this.filterByUrl()\n          })\n      }\n    }\n  }\n})\n<\/script>\n\n\x3c!-- Add "scoped" attribute to limit CSS to this component only --\x3e\n<style scoped>\na.recipe-item {\n  transition: .2s ease-in;\n  -webkit-transition: .2s ease-in;\n}\n\n.card {\n  box-shadow: 0 0 10px 0 rgba(0,0,0,.5);\n  height: 350px;\n  overflow: hidden;\n  margin-top: 10px\n}\n\n.scale-down:hover {\n  transform: scale(.95);\n  -webkit-transform: scale(.95);\n}\n\n</style>\n\n<style src="@vueform/multiselect/themes/default.css"></style>\n'],sourceRoot:""}]),t.Z=i},8154:function(e,t,n){n.r(t),n.d(t,{__esModule:function(){return r.X},default:function(){return s}});var o=n(9860),r=n(1403);var s=(0,n(3744).Z)(r.Z,[["render",o.s]])},5283:function(e,t,n){n.r(t),n.d(t,{__esModule:function(){return r.X},default:function(){return c}});var o=n(4229),r=n(3153),s=n(3379),i=n.n(s),l=n(3175),a={insert:"head",singleton:!1};i()(l.Z,a),l.Z.locals,n(1280);var c=(0,n(3744).Z)(r.Z,[["render",o.s],["__scopeId","data-v-55e4d7fc"]])},311:function(e){e.exports=Vue}},function(e){e.O(0,[898],(function(){return t=1372,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=frontend.js.map